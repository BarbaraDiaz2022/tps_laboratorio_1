/*
 * biblioteca_jugadores.c
 *
 *  Created on: 26 oct. 2022
 *      Author: Diaz Barbara
 */

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "biblioteca_input.h"
#include "biblioteca_confederaciones.h"
#include "biblioteca_jugadores.h"
#include "biblioteca_output.h"
#define CANTIDAD_JUGADORES 3000
#define CANTIDAD_CONFEDERACIONES 6
#define VACIO 0
#define OCUPADO 1

void inicializarArray(eJugador jugadores[], int tam)
{
    for(int i=0; i<tam; i++)
	{
		jugadores[i].isEmpty = VACIO;
	}
}

int buscarLugarLibre(eJugador jugadores[],int tam)
{
	int indice;
	indice = -1;//Si no encuentra un lugar inactivo ->el array esta lleno.
	int i;

	for(i = 0; i < tam; i++)
    {
	   if(jugadores[i].isEmpty == VACIO)
	   {
		   indice = i;
		   break;
	   }
    }
	return indice;
}

int altaJugador(eJugador jugadores[], int tam, int idJugadoresAutoincremental)
{
	int retorno, indice;
	int opcionPosicion, auxPosicion;
	short opcionCamiseta, auxCamiseta;
	int opcionConfederacion, auxConfederacion;
	float opcionSalario;
	int auxSalario;
	short retornoAnios, opcionAnio;

	retorno = 0;//si la lista esta llena y no se puede dar de alta

	indice = buscarLugarLibre(jugadores,tam);

	if(indice > -1)
	{
		jugadores[indice].id = idJugadoresAutoincremental;
		setbuf(stdin,NULL);
	    pedirCadena(jugadores[indice].nombre,50,"Ingrese el nombre del jugador:\n");

	    auxPosicion = utnGetNumero(&opcionPosicion, "Ingrese la posicion del jugador:\n1.Delantero\n2.Defensor\n3.Arquero\n4.Mediocampista\n","Error, ingrese una opcion valida:\n",1,4,3);
        if(auxPosicion == 0)
        {
			switch(opcionPosicion)
			{
				case 1:
					strcpy(jugadores[indice].posicion, "Delantero");
				break;
				case 2:
					strcpy(jugadores[indice].posicion, "Defensor");
				break;
				case 3:
					strcpy(jugadores[indice].posicion, "Arquero");
				break;
				case 4:
					strcpy(jugadores[indice].posicion, "Mediocampista");
				break;
			}
        }

        auxCamiseta = getNumeroShort(&opcionCamiseta,"Ingrese el numero de camiseta:\n","Error, ingrese un numero de camiseta valido:\n",1,99,3);
        if(auxCamiseta == 0)
        {
        	jugadores[indice].numeroCamiseta = opcionCamiseta;
        }

        auxConfederacion = utnGetNumero(&opcionConfederacion,"Ingrese la confederacion:\n1.CONMEBOL\n2.UEFA\n3.AFC\n4.CAF\n5.CONCACAF\n6.OFC\n","Error, ingrese una confederacion existente:\n1.CONMEBOL\n2.UEFA\n3.AFC\n4.CAF\n5.CONCACAF\n6.OFC",1,6,3);
        if(auxConfederacion == 0)
        {
        	jugadores[indice].idConfederacion = opcionConfederacion;
        }

        auxSalario = utnGetFloat(&opcionSalario, "Ingrese el salario:\n","Error, ingrese un salario valido:\n",1000,150000000,3);
        if(auxSalario == 0)
        {
        	jugadores[indice].salario = opcionSalario;
        }

        retornoAnios = getNumeroShort(&opcionAnio, "Ingrese los años de contrato:\n","Error, ingrese un año valido:\n",1,20,3);
        if(retornoAnios == 0)
        {
        	jugadores[indice].aniosContrato = opcionAnio;
        }

	    jugadores[indice].isEmpty = OCUPADO;
	    retorno = 1;//se dio de alta correctamente
	}

	printf("\n");

	return retorno;
}


int buscarJugador(eJugador jugadores[],int tam,int idJugadorABuscar)
{
	int indice;
	int i;
	indice = -1;//Si no encuentra al codigo

	for(i = 0; i < tam; i++)
    {
	   if(jugadores[i].isEmpty == OCUPADO && jugadores[i].id == idJugadorABuscar)
	   {
		   indice = i;
		   break;
	   }
    }

	return indice;
}

int darDeBaja(eJugador jugadores[],int tam)
{
	int idJugadorABorrar, auxIdJugadorABorrar;
	int retorno, indiceDelJugador;
    int confirmacion,auxConfirmacion;

    retorno = 0;//si no encontro el jugador para borrar
    auxIdJugadorABorrar = utnGetNumero(&idJugadorABorrar,"Ingrese el codigo (id) del jugador a borrar:\n","Error, ingrese un codigo existente\n",1,tam,3);
	indiceDelJugador = buscarJugador(jugadores,tam,idJugadorABorrar);

	if(indiceDelJugador > -1 && auxIdJugadorABorrar == 0)
	{
	   auxConfirmacion = utnGetNumero(&confirmacion,"Jugador encontrado. ¿Desea eliminarlo?\n1-Si\t2-No\n","Error, ingrese\n1-Si\n2-No\n",1,2,3);
	   retorno = 0;//si no encontro el jugador para borrar
	   if(auxConfirmacion == 0 && confirmacion == 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           )
	   {
			jugadores[indiceDelJugador].isEmpty = VACIO;
			retorno = 1;//Encontro el jugador y lo "borro"
	   }
    }
    return retorno;
}

int modificarNombre(eJugador jugadores[],int tam)
{
	int idAModificar,auxIdAModificar;
	char nombreModificado[50];
	int confirmacion,auxConfirmacion;
	int indiceAModificar, retorno;

	retorno = -1; //Si no encontro al jugador

	auxIdAModificar = utnGetNumero(&idAModificar,"Ingrese el codigo (id) del jugador para modificar su nombre:\n","Error, ingrese un codigo existente\n",1,tam,3);
	indiceAModificar = buscarJugador(jugadores,tam,idAModificar);

	if(indiceAModificar > -1 && auxIdAModificar == 0)
	{
	   retorno = 2; //si el usuario quiere cancelar la operación
	   auxConfirmacion = utnGetNumero(&confirmacion,"Jugador encontrado. ¿Desea modificarlo?\n1-Si\t2-No\n","Error, ingrese una opcion valida",1,2,3);

	   setbuf(stdin,NULL);
	   pedirCadena(nombreModificado,50,"Ingrese el nuevo nombre:\n");

	   if(auxConfirmacion == 0)
	   {
		   strcpy(jugadores[indiceAModificar].nombre,nombreModificado);
		   retorno = 1;//Salio todo bien
	   }
	}

	return retorno;
}

int modificarPosicion(eJugador jugadores[],int tam)
{
	int idAModificar,auxIdAModificar;
	int confirmacion,auxConfirmacion;
	int auxPosicion,opcionPosicion;
	int indiceAModificar, retorno;

	retorno = -1; //Si no encontro al jugador

	auxIdAModificar = utnGetNumero(&idAModificar,"Ingrese el codigo (id) del jugador para modificar su posicion:\n","Error, ingrese un codigo existente\n",1,tam,3);
	indiceAModificar = buscarJugador(jugadores,tam,idAModificar);

	if(indiceAModificar > -1  && auxIdAModificar == 0)
	{
	   retorno = 2; //si el usuario quiere cancelar la operación
	   auxConfirmacion = utnGetNumero(&confirmacion, "Jugador encontrado. ¿Desea modificarlo?\n1-Si\t2-No\n","Error, ingrese una opcion valida",1,2,3);
	   auxPosicion = utnGetNumero(&opcionPosicion, "Ingrese la posicion del jugador:\n1.Delantero\n2.Defensor\n3.Arquero\n4.Mediocampista\n","Error, ingrese una opcion valida:\n",1,4,3);

	   if(auxPosicion == 0 && auxConfirmacion == 0 && confirmacion == 1)
	   {
		   	retorno = 1;//Salio todo bien
	        {
				switch(opcionPosicion)
				{
					case 1:
						strcpy(jugadores[indiceAModificar].posicion, "Delantero");
					break;
					case 2:
						strcpy(jugadores[indiceAModificar].posicion, "Defensor");
					break;
					case 3:
						strcpy(jugadores[indiceAModificar].posicion, "Arquero");
					break;
					case 4:
						strcpy(jugadores[indiceAModificar].posicion, "Mediocampista");
					break;
				}
	        }
	   }
	}

	return retorno;
}

int modificarNumeroCamiseta(eJugador jugadores[],int tam)
{
	int idAModificar, auxIdAModificar;
	int auxNumeroModificado;
	short numeroAux;
	int confirmacion,auxConfirmacion;
	int indiceAModificar, retorno;

	retorno = -1; //si no encontro el jugador

	auxIdAModificar =utnGetNumero(&idAModificar, "Ingrese el codigo (id) del jugador para modificar su numero de camiseta:\n","Error. Ingrese un codigo existente",1,tam,3);
	indiceAModificar = buscarJugador(jugadores,tam,idAModificar);

	if(indiceAModificar > -1 && auxIdAModificar == 0)
	{
		auxConfirmacion = utnGetNumero(&confirmacion, "Jugador encontrado. ¿Desea modificarlo?\n1-Si\t2-No\n","Error, ingrese una opcion valida",1,2,3);
		auxNumeroModificado = getNumeroShort(&numeroAux,"Ingrese el nuevo numero para la camiseta:\n", "Error. Ingrese un numero de camiseta valida\n",1,99,3);
		retorno = 2; //si el usuario quiere cancelar la operación


		if(auxNumeroModificado == 0 && auxConfirmacion == 0 && confirmacion == 1)
		{
			jugadores[indiceAModificar].numeroCamiseta = numeroAux;
			retorno = 1;//Salio todo bien
		}
	}
	return retorno;
}

int modificarConfederacion(eJugador jugadores[],int tam)
{
	int idAModificar,auxIdAModificar;
	int confederacionModificada,auxConfederacion;
	int confirmacion,auxConfirmacion;
	int indiceAModificar, retorno;

	retorno = -1; //si no encontro el jugador

	auxIdAModificar = utnGetNumero(&idAModificar,"Ingrese el codigo (id) del jugador para modificar su confederacion:\n","Error. Ingrese un codigo existente",1,tam,3);
	indiceAModificar = buscarJugador(jugadores,tam,idAModificar);

	if(indiceAModificar > -1 && auxIdAModificar == 0)
	{
		auxConfirmacion = utnGetNumero(&confirmacion,"Jugador encontrado. ¿Desea modificarlo?\n1-Si\t2-No\n","Error, ingrese\n1-Si\n2-No\n",1,2,3);
		auxConfederacion = utnGetNumero(&confederacionModificada, "Ingrese la confederacion:\n1.CONMEBOL\n2.UEFA\n3.AFC\n4.CAF\n5.CONCACAF\n6.OFC\n", "Error. Ingrese una opcion de confederacion valida\n",1,6,3);
		retorno = 2; //si el usuario quiere cancelar la operación

		if(auxConfirmacion == 0 && auxConfederacion == 0 && confirmacion == 1)
		{
			jugadores[indiceAModificar].idConfederacion = confederacionModificada;
			retorno = 1;//salio todo bien
		}
	}
	return retorno;
}

int modificarSalario(eJugador jugadores[],int tam)
{
	int idAModificar,auxIdAModificar;
	int auxSalario;
	float salarioModificado;
	int confirmacion, auxConfirmacion;
	int retorno,indiceAModificar;
	retorno = -1; //si no encontro el libro

	auxIdAModificar = utnGetNumero(&idAModificar,"Ingrese el codigo del jugador para modificar su salario:\n","Error. Ingrese un codigo existente",1,tam,3);
	indiceAModificar = buscarJugador(jugadores,tam,idAModificar);

	if(indiceAModificar > -1 && auxIdAModificar == 0)
	{
		auxConfirmacion = utnGetNumero(&confirmacion, "Jugador encontrado. ¿Desea modificarlo?\n1-Si\t2-No\n","Error, ingrese\n1-Si\n2-No\n",1,2,3);
		auxSalario = utnGetFloat(&salarioModificado,"Ingrese el salario a modificar:\n", "Error. Ingrese un salario valido:\n",1000,150000000,3);
		retorno = 2; //si el usuario quiere cancelar la operación

		if(auxConfirmacion == 0 && auxSalario == 0 && confirmacion == 1)
		{
		   jugadores[indiceAModificar].salario= salarioModificado;
		   retorno = 1;//salio todo bien
		}
	}

	return retorno;
}

int modificarAnio(eJugador jugadores[],int tam)
{
	int idAModificar,auxIdAModificar;
	int auxAnio;
	short anioModificado;
	int confirmacion,auxConfirmacion;
	int indiceAModificar,retorno;
	retorno = -1; //si no encontro el libro

	auxIdAModificar = utnGetNumero(&idAModificar, "Ingrese el codigo del jugador para modificar su año de contrato:\n","Error. Ingrese un codigo existente",1,tam,3);
	indiceAModificar = buscarJugador(jugadores,tam,idAModificar);

	if(indiceAModificar > -1 && auxIdAModificar == 0)
	{
		auxConfirmacion = utnGetNumero(&confirmacion,"Jugador encontrado. ¿Desea modificarlo?\n1-Si\t2-No\n","Error, ingrese\n1-Si\n2-No\n",1,2,3);
		auxAnio = getNumeroShort(&anioModificado, "Ingrese el nuevo año:\n", "Error. Ingrese un año\n",1,20,3);
		retorno = 2; //si el usuario quiere cancelar la operación

		if(auxConfirmacion == 0 && auxAnio == 0 && confirmacion == 1)
		{
		   jugadores[indiceAModificar].aniosContrato = anioModificado;
		   retorno = 1;//salio todo bien
		}
	}
	return retorno;
}

float sumarSalarios(eJugador jugadores[], int tam)
{
    float acumuladorSalarios = 0;
    int i;


    for(i = 0; i < tam; i++)
    {
        if(jugadores[i].isEmpty == OCUPADO)
        {
            acumuladorSalarios = acumuladorSalarios + jugadores[i].salario;
        }
    }

    return acumuladorSalarios;
}

float calcularPromedio(float acumuladorImporte, int contador, eJugador jugadores[], int tam)
{
    float promedio;

    promedio = acumuladorImporte / contador;

    return promedio;
}

int buscarJugadoresSuperiorPromedio(float promedio, eJugador jugadores[], int tam)
{
    int i;
    int contadorSalariosAltos = 0;

    for(i = 0; i < tam; i++)
    {
        if(jugadores[i].salario > promedio && jugadores[i].isEmpty == OCUPADO)
        {
            contadorSalariosAltos++;
        }
    }

    return contadorSalariosAltos;
}

int acumularAnios(eJugador jugadores[], int tam)
{
    int i;
	int aniosConmebol = 0, aniosUefa = 0, aniosAfc = 0, aniosCaf = 0, aniosConcacaf = 0, aniosOfc = 0;
	int retorno = -1;

	if(jugadores != NULL && tam > 0)
	{
	    for(i = 0; i < tam; i++)
	    {
	        switch(jugadores[i].idConfederacion)
	        {
	        	case 1:
	        		aniosConmebol = aniosConmebol + jugadores[i].aniosContrato;
	        	break;
	        	case 2:
	        		aniosUefa = aniosUefa+ jugadores[i].aniosContrato;
	        	break;
	        	case 3:
	        		aniosAfc = aniosAfc + jugadores[i].aniosContrato;
	        	break;
	        	case 4:
	        		aniosCaf = aniosCaf + jugadores[i].aniosContrato;
	        	break;
	        	case 5:
	        		aniosConcacaf = aniosConcacaf + jugadores[i].aniosContrato;
	        	break;
	        	case 6:
	        		aniosOfc = aniosOfc + jugadores[i].aniosContrato;
	        	break;
	        }
	    }

	    mostrarConfederacionConMasContrato(aniosConmebol,aniosUefa,aniosAfc,aniosCaf,aniosConcacaf,aniosOfc);
		retorno = 1;
	}

	return retorno;
}



int acumularJugadores(eJugador jugadores[], int tam)
{
    int i, retorno = -1;
	int jugadoresConmebol = 0, jugadoresUefa = 0, jugadoresAfc = 0, jugadoresCaf = 0, jugadoresConcacaf = 0, jugadoresOfc = 0,cantidadTotal;
	float porcentaje1,porcentaje2,porcentaje3,porcentaje4,porcentaje5,porcentaje6;

	if(jugadores != NULL && tam > 0)
	{
		for(i = 0; i < tam; i++)
		{
			switch(jugadores[i].idConfederacion)
			{
				case 1:
					 jugadoresConmebol++;
				break;
				case 2:
					jugadoresUefa++;

				break;
				case 3:
					jugadoresAfc++;

				break;
				case 4:
					jugadoresCaf++;

				break;
				case 5:
					jugadoresConcacaf++;

				break;
				case 6:
					jugadoresOfc++;

				break;
			}
		}

	    cantidadTotal = jugadoresConmebol + jugadoresUefa + jugadoresAfc + jugadoresCaf + jugadoresConcacaf + jugadoresOfc;

	    porcentaje1 = (float)jugadoresConmebol / cantidadTotal;
	    porcentaje1 = porcentaje1 * 100;

	    porcentaje2 = (float)jugadoresUefa / cantidadTotal;
	    porcentaje2 = porcentaje2 * 100;

	    porcentaje3 = (float)jugadoresAfc / cantidadTotal;
	    porcentaje3 = porcentaje3 * 100;

	    porcentaje4 = (float)jugadoresCaf / cantidadTotal;
	    porcentaje4 = porcentaje4 * 100;

	    porcentaje5 = (float)jugadoresConcacaf / cantidadTotal;
	    porcentaje5 = porcentaje5 * 100;

	    porcentaje6 = (float)jugadoresOfc / cantidadTotal;
	    porcentaje6 = porcentaje6 * 100;

	    mostrarPorcentajes(porcentaje1,porcentaje2,porcentaje3, porcentaje4,porcentaje5,porcentaje6);

		retorno = 1;
	}

	return retorno;
}

int acumularRegiones(eJugador jugadores[], int tam, eConfederacion confederaciones[], int tamConfederacion)
{
    int i, retorno = -1;
	int region1 = 0, region2 = 0, region3 = 0, region4 = 0, region5 = 0, region6 = 0;

	if(jugadores != NULL && tam > 0)
	{
		for(i = 0; i < tam; i++)
		{
			switch(jugadores[i].idConfederacion)
			{
				case 1:
					region1++;
				break;
				case 2:
					region2++;
				break;
				case 3:
					region3++;
				break;
				case 4:
					region4++;
				break;
				case 5:
					region5++;
				break;
				case 6:
					region6++;
				break;
			}
		}

		regionConMasJugadores(region1,region2,region3, region4, region5,region6,jugadores,tam,confederaciones,tamConfederacion);
		retorno = 1;
	}

	return retorno;
}
